edition = "2023";

package ast;

import "google/protobuf/go_features.proto";
import "literals.proto";
import "procedure_spec.proto";
import "catalog.proto";
import "value_expr.proto";

option features.field_presence = IMPLICIT;
option features.(pb.go).api_level = API_OPAQUE;
option go_package = "/ast";

message CallProcedureStatement {
  bool optional = 1;
  oneof type {
    InlineProcedureCall inline_call = 2;
    NamedProcedureCall named_call = 3;
  }
}

message InlineProcedureCall {
  repeated Identifier binding_variable_refs = 1;
  ProcedureSpec procedure_spec = 2;
}

message NamedProcedureCall {
  ProcedureRef procedure_ref = 1;
  repeated ValueExpr argument_list = 2;
}

message ProcedureRef {
  oneof type {
    CatalogProcedureParentAndName parent_and_name = 1;
    Identifier ref_param_spec = 2;
  }
}